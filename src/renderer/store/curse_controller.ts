// structuredClone API is not supported on legacy browsers
// lodash or rfdc library is bloat
// JSON.parse(JSON.stringify(obj)) is cursed
// so we need to do these steps to achieve a curse-free deep clone
export function deepClone(obj: any) {
  return JSON.parse(
    JSON.stringify(
      JSON.parse(
        JSON.stringify(
          JSON.parse(
            JSON.stringify(
              JSON.parse(
                JSON.stringify(
                  JSON.parse(
                    JSON.stringify(
                      JSON.parse(
                        JSON.stringify(
                          JSON.parse(
                            JSON.stringify(
                              JSON.parse(
                                JSON.stringify(
                                  JSON.parse(
                                    JSON.stringify(
                                      JSON.parse(
                                        JSON.stringify(
                                          JSON.parse(
                                            JSON.stringify(
                                              JSON.parse(
                                                JSON.stringify(
                                                  JSON.parse(
                                                    JSON.stringify(
                                                      JSON.parse(
                                                        JSON.stringify(
                                                          JSON.parse(
                                                            JSON.stringify(
                                                              JSON.parse(
                                                                JSON.stringify(
                                                                  JSON.parse(
                                                                    JSON.stringify(
                                                                      JSON.parse(
                                                                        JSON.stringify(
                                                                          JSON.parse(
                                                                            JSON.stringify(
                                                                              JSON.parse(
                                                                                JSON.stringify(
                                                                                  JSON.parse(
                                                                                    JSON.stringify(
                                                                                      JSON.parse(
                                                                                        JSON.stringify(
                                                                                          JSON.parse(
                                                                                            JSON.stringify(
                                                                                              JSON.parse(
                                                                                                JSON.stringify(
                                                                                                  JSON.parse(
                                                                                                    JSON.stringify(
                                                                                                      JSON.parse(
                                                                                                        JSON.stringify(
                                                                                                          JSON.parse(
                                                                                                            JSON.stringify(
                                                                                                              JSON.parse(
                                                                                                                JSON.stringify(
                                                                                                                  JSON.parse(
                                                                                                                    JSON.stringify(
                                                                                                                      JSON.parse(
                                                                                                                        JSON.stringify(
                                                                                                                          JSON.parse(
                                                                                                                            JSON.stringify(
                                                                                                                              JSON.parse(
                                                                                                                                JSON.stringify(
                                                                                                                                  JSON.parse(
                                                                                                                                    JSON.stringify(
                                                                                                                                      JSON.parse(
                                                                                                                                        JSON.stringify(
                                                                                                                                          JSON.parse(
                                                                                                                                            JSON.stringify(
                                                                                                                                              JSON.parse(
                                                                                                                                                JSON.stringify(
                                                                                                                                                  JSON.parse(
                                                                                                                                                    JSON.stringify(
                                                                                                                                                      JSON.parse(
                                                                                                                                                        JSON.stringify(
                                                                                                                                                          JSON.parse(
                                                                                                                                                            JSON.stringify(
                                                                                                                                                              JSON.parse(
                                                                                                                                                                JSON.stringify(
                                                                                                                                                                  JSON.parse(
                                                                                                                                                                    JSON.stringify(
                                                                                                                                                                      JSON.parse(
                                                                                                                                                                        JSON.stringify(
                                                                                                                                                                          JSON.parse(
                                                                                                                                                                            JSON.stringify(
                                                                                                                                                                              JSON.parse(
                                                                                                                                                                                JSON.stringify(
                                                                                                                                                                                  JSON.parse(
                                                                                                                                                                                    JSON.stringify(
                                                                                                                                                                                      JSON.parse(
                                                                                                                                                                                        JSON.stringify(
                                                                                                                                                                                          JSON.parse(
                                                                                                                                                                                            JSON.stringify(
                                                                                                                                                                                              JSON.parse(
                                                                                                                                                                                                JSON.stringify(
                                                                                                                                                                                                  JSON.parse(
                                                                                                                                                                                                    JSON.stringify(
                                                                                                                                                                                                      JSON.parse(
                                                                                                                                                                                                        JSON.stringify(
                                                                                                                                                                                                          JSON.parse(
                                                                                                                                                                                                            JSON.stringify(
                                                                                                                                                                                                              JSON.parse(
                                                                                                                                                                                                                JSON.stringify(
                                                                                                                                                                                                                  JSON.parse(
                                                                                                                                                                                                                    JSON.stringify(
                                                                                                                                                                                                                      JSON.parse(
                                                                                                                                                                                                                        JSON.stringify(
                                                                                                                                                                                                                          JSON.parse(
                                                                                                                                                                                                                            JSON.stringify(
                                                                                                                                                                                                                              JSON.parse(
                                                                                                                                                                                                                                JSON.stringify(
                                                                                                                                                                                                                                  JSON.parse(
                                                                                                                                                                                                                                    JSON.stringify(
                                                                                                                                                                                                                                      JSON.parse(
                                                                                                                                                                                                                                        JSON.stringify(
                                                                                                                                                                                                                                          JSON.parse(
                                                                                                                                                                                                                                            JSON.stringify(
                                                                                                                                                                                                                                              JSON.parse(
                                                                                                                                                                                                                                                JSON.stringify(
                                                                                                                                                                                                                                                  JSON.parse(
                                                                                                                                                                                                                                                    JSON.stringify(
                                                                                                                                                                                                                                                      JSON.parse(
                                                                                                                                                                                                                                                        JSON.stringify(
                                                                                                                                                                                                                                                          JSON.parse(
                                                                                                                                                                                                                                                            JSON.stringify(
                                                                                                                                                                                                                                                              JSON.parse(
                                                                                                                                                                                                                                                                JSON.stringify(
                                                                                                                                                                                                                                                                  JSON.parse(
                                                                                                                                                                                                                                                                    JSON.stringify(
                                                                                                                                                                                                                                                                      JSON.parse(
                                                                                                                                                                                                                                                                        JSON.stringify(
                                                                                                                                                                                                                                                                          JSON.parse(
                                                                                                                                                                                                                                                                            JSON.stringify(
                                                                                                                                                                                                                                                                              JSON.parse(
                                                                                                                                                                                                                                                                                JSON.stringify(
                                                                                                                                                                                                                                                                                  JSON.parse(
                                                                                                                                                                                                                                                                                    JSON.stringify(
                                                                                                                                                                                                                                                                                      JSON.parse(
                                                                                                                                                                                                                                                                                        JSON.stringify(
                                                                                                                                                                                                                                                                                          JSON.parse(
                                                                                                                                                                                                                                                                                            JSON.stringify(
                                                                                                                                                                                                                                                                                              JSON.parse(
                                                                                                                                                                                                                                                                                                JSON.stringify(
                                                                                                                                                                                                                                                                                                  JSON.parse(
                                                                                                                                                                                                                                                                                                    JSON.stringify(
                                                                                                                                                                                                                                                                                                      JSON.parse(
                                                                                                                                                                                                                                                                                                        JSON.stringify(
                                                                                                                                                                                                                                                                                                          JSON.parse(
                                                                                                                                                                                                                                                                                                            JSON.stringify(
                                                                                                                                                                                                                                                                                                              JSON.parse(
                                                                                                                                                                                                                                                                                                                JSON.stringify(
                                                                                                                                                                                                                                                                                                                  JSON.parse(
                                                                                                                                                                                                                                                                                                                    JSON.stringify(
                                                                                                                                                                                                                                                                                                                      JSON.parse(
                                                                                                                                                                                                                                                                                                                        JSON.stringify(
                                                                                                                                                                                                                                                                                                                          JSON.parse(
                                                                                                                                                                                                                                                                                                                            JSON.stringify(
                                                                                                                                                                                                                                                                                                                              JSON.parse(
                                                                                                                                                                                                                                                                                                                                JSON.stringify(
                                                                                                                                                                                                                                                                                                                                  JSON.parse(
                                                                                                                                                                                                                                                                                                                                    JSON.stringify(
                                                                                                                                                                                                                                                                                                                                      JSON.parse(
                                                                                                                                                                                                                                                                                                                                        JSON.stringify(
                                                                                                                                                                                                                                                                                                                                          JSON.parse(
                                                                                                                                                                                                                                                                                                                                            JSON.stringify(
                                                                                                                                                                                                                                                                                                                                              JSON.parse(
                                                                                                                                                                                                                                                                                                                                                JSON.stringify(
                                                                                                                                                                                                                                                                                                                                                  JSON.parse(
                                                                                                                                                                                                                                                                                                                                                    JSON.stringify(
                                                                                                                                                                                                                                                                                                                                                      JSON.parse(
                                                                                                                                                                                                                                                                                                                                                        JSON.stringify(
                                                                                                                                                                                                                                                                                                                                                          JSON.parse(
                                                                                                                                                                                                                                                                                                                                                            JSON.stringify(
                                                                                                                                                                                                                                                                                                                                                              JSON.parse(
                                                                                                                                                                                                                                                                                                                                                                JSON.stringify(
                                                                                                                                                                                                                                                                                                                                                                  JSON.parse(
                                                                                                                                                                                                                                                                                                                                                                    JSON.stringify(
                                                                                                                                                                                                                                                                                                                                                                      JSON.parse(
                                                                                                                                                                                                                                                                                                                                                                        JSON.stringify(
                                                                                                                                                                                                                                                                                                                                                                          JSON.parse(
                                                                                                                                                                                                                                                                                                                                                                            JSON.stringify(
                                                                                                                                                                                                                                                                                                                                                                              JSON.parse(
                                                                                                                                                                                                                                                                                                                                                                                JSON.stringify(
                                                                                                                                                                                                                                                                                                                                                                                  JSON.parse(
                                                                                                                                                                                                                                                                                                                                                                                    JSON.stringify(
                                                                                                                                                                                                                                                                                                                                                                                      JSON.parse(
                                                                                                                                                                                                                                                                                                                                                                                        JSON.stringify(
                                                                                                                                                                                                                                                                                                                                                                                          JSON.parse(
                                                                                                                                                                                                                                                                                                                                                                                            JSON.stringify(
                                                                                                                                                                                                                                                                                                                                                                                              JSON.parse(
                                                                                                                                                                                                                                                                                                                                                                                                JSON.stringify(
                                                                                                                                                                                                                                                                                                                                                                                                  JSON.parse(
                                                                                                                                                                                                                                                                                                                                                                                                    JSON.stringify(
                                                                                                                                                                                                                                                                                                                                                                                                      JSON.parse(
                                                                                                                                                                                                                                                                                                                                                                                                        JSON.stringify(
                                                                                                                                                                                                                                                                                                                                                                                                          JSON.parse(
                                                                                                                                                                                                                                                                                                                                                                                                            JSON.stringify(
                                                                                                                                                                                                                                                                                                                                                                                                              JSON.parse(
                                                                                                                                                                                                                                                                                                                                                                                                                JSON.stringify(
                                                                                                                                                                                                                                                                                                                                                                                                                  JSON.parse(
                                                                                                                                                                                                                                                                                                                                                                                                                    JSON.stringify(
                                                                                                                                                                                                                                                                                                                                                                                                                      obj
                                                                                                                                                                                                                                                                                                                                                                                                                    )
                                                                                                                                                                                                                                                                                                                                                                                                                  )
                                                                                                                                                                                                                                                                                                                                                                                                                )
                                                                                                                                                                                                                                                                                                                                                                                                              )
                                                                                                                                                                                                                                                                                                                                                                                                            )
                                                                                                                                                                                                                                                                                                                                                                                                          )
                                                                                                                                                                                                                                                                                                                                                                                                        )
                                                                                                                                                                                                                                                                                                                                                                                                      )
                                                                                                                                                                                                                                                                                                                                                                                                    )
                                                                                                                                                                                                                                                                                                                                                                                                  )
                                                                                                                                                                                                                                                                                                                                                                                                )
                                                                                                                                                                                                                                                                                                                                                                                              )
                                                                                                                                                                                                                                                                                                                                                                                            )
                                                                                                                                                                                                                                                                                                                                                                                          )
                                                                                                                                                                                                                                                                                                                                                                                        )
                                                                                                                                                                                                                                                                                                                                                                                      )
                                                                                                                                                                                                                                                                                                                                                                                    )
                                                                                                                                                                                                                                                                                                                                                                                  )
                                                                                                                                                                                                                                                                                                                                                                                )
                                                                                                                                                                                                                                                                                                                                                                              )
                                                                                                                                                                                                                                                                                                                                                                            )
                                                                                                                                                                                                                                                                                                                                                                          )
                                                                                                                                                                                                                                                                                                                                                                        )
                                                                                                                                                                                                                                                                                                                                                                      )
                                                                                                                                                                                                                                                                                                                                                                    )
                                                                                                                                                                                                                                                                                                                                                                  )
                                                                                                                                                                                                                                                                                                                                                                )
                                                                                                                                                                                                                                                                                                                                                              )
                                                                                                                                                                                                                                                                                                                                                            )
                                                                                                                                                                                                                                                                                                                                                          )
                                                                                                                                                                                                                                                                                                                                                        )
                                                                                                                                                                                                                                                                                                                                                      )
                                                                                                                                                                                                                                                                                                                                                    )
                                                                                                                                                                                                                                                                                                                                                  )
                                                                                                                                                                                                                                                                                                                                                )
                                                                                                                                                                                                                                                                                                                                              )
                                                                                                                                                                                                                                                                                                                                            )
                                                                                                                                                                                                                                                                                                                                          )
                                                                                                                                                                                                                                                                                                                                        )
                                                                                                                                                                                                                                                                                                                                      )
                                                                                                                                                                                                                                                                                                                                    )
                                                                                                                                                                                                                                                                                                                                  )
                                                                                                                                                                                                                                                                                                                                )
                                                                                                                                                                                                                                                                                                                              )
                                                                                                                                                                                                                                                                                                                            )
                                                                                                                                                                                                                                                                                                                          )
                                                                                                                                                                                                                                                                                                                        )
                                                                                                                                                                                                                                                                                                                      )
                                                                                                                                                                                                                                                                                                                    )
                                                                                                                                                                                                                                                                                                                  )
                                                                                                                                                                                                                                                                                                                )
                                                                                                                                                                                                                                                                                                              )
                                                                                                                                                                                                                                                                                                            )
                                                                                                                                                                                                                                                                                                          )
                                                                                                                                                                                                                                                                                                        )
                                                                                                                                                                                                                                                                                                      )
                                                                                                                                                                                                                                                                                                    )
                                                                                                                                                                                                                                                                                                  )
                                                                                                                                                                                                                                                                                                )
                                                                                                                                                                                                                                                                                              )
                                                                                                                                                                                                                                                                                            )
                                                                                                                                                                                                                                                                                          )
                                                                                                                                                                                                                                                                                        )
                                                                                                                                                                                                                                                                                      )
                                                                                                                                                                                                                                                                                    )
                                                                                                                                                                                                                                                                                  )
                                                                                                                                                                                                                                                                                )
                                                                                                                                                                                                                                                                              )
                                                                                                                                                                                                                                                                            )
                                                                                                                                                                                                                                                                          )
                                                                                                                                                                                                                                                                        )
                                                                                                                                                                                                                                                                      )
                                                                                                                                                                                                                                                                    )
                                                                                                                                                                                                                                                                  )
                                                                                                                                                                                                                                                                )
                                                                                                                                                                                                                                                              )
                                                                                                                                                                                                                                                            )
                                                                                                                                                                                                                                                          )
                                                                                                                                                                                                                                                        )
                                                                                                                                                                                                                                                      )
                                                                                                                                                                                                                                                    )
                                                                                                                                                                                                                                                  )
                                                                                                                                                                                                                                                )
                                                                                                                                                                                                                                              )
                                                                                                                                                                                                                                            )
                                                                                                                                                                                                                                          )
                                                                                                                                                                                                                                        )
                                                                                                                                                                                                                                      )
                                                                                                                                                                                                                                    )
                                                                                                                                                                                                                                  )
                                                                                                                                                                                                                                )
                                                                                                                                                                                                                              )
                                                                                                                                                                                                                            )
                                                                                                                                                                                                                          )
                                                                                                                                                                                                                        )
                                                                                                                                                                                                                      )
                                                                                                                                                                                                                    )
                                                                                                                                                                                                                  )
                                                                                                                                                                                                                )
                                                                                                                                                                                                              )
                                                                                                                                                                                                            )
                                                                                                                                                                                                          )
                                                                                                                                                                                                        )
                                                                                                                                                                                                      )
                                                                                                                                                                                                    )
                                                                                                                                                                                                  )
                                                                                                                                                                                                )
                                                                                                                                                                                              )
                                                                                                                                                                                            )
                                                                                                                                                                                          )
                                                                                                                                                                                        )
                                                                                                                                                                                      )
                                                                                                                                                                                    )
                                                                                                                                                                                  )
                                                                                                                                                                                )
                                                                                                                                                                              )
                                                                                                                                                                            )
                                                                                                                                                                          )
                                                                                                                                                                        )
                                                                                                                                                                      )
                                                                                                                                                                    )
                                                                                                                                                                  )
                                                                                                                                                                )
                                                                                                                                                              )
                                                                                                                                                            )
                                                                                                                                                          )
                                                                                                                                                        )
                                                                                                                                                      )
                                                                                                                                                    )
                                                                                                                                                  )
                                                                                                                                                )
                                                                                                                                              )
                                                                                                                                            )
                                                                                                                                          )
                                                                                                                                        )
                                                                                                                                      )
                                                                                                                                    )
                                                                                                                                  )
                                                                                                                                )
                                                                                                                              )
                                                                                                                            )
                                                                                                                          )
                                                                                                                        )
                                                                                                                      )
                                                                                                                    )
                                                                                                                  )
                                                                                                                )
                                                                                                              )
                                                                                                            )
                                                                                                          )
                                                                                                        )
                                                                                                      )
                                                                                                    )
                                                                                                  )
                                                                                                )
                                                                                              )
                                                                                            )
                                                                                          )
                                                                                        )
                                                                                      )
                                                                                    )
                                                                                  )
                                                                                )
                                                                              )
                                                                            )
                                                                          )
                                                                        )
                                                                      )
                                                                    )
                                                                  )
                                                                )
                                                              )
                                                            )
                                                          )
                                                        )
                                                      )
                                                    )
                                                  )
                                                )
                                              )
                                            )
                                          )
                                        )
                                      )
                                    )
                                  )
                                )
                              )
                            )
                          )
                        )
                      )
                    )
                  )
                )
              )
            )
          )
        )
      )
    )
  );
}
